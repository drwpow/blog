<!DOCTYPE html>
<html lang="en">
  <head>
    <title>media queries are (still) a¬†hack</title>
    <link rel="stylesheet" href="/assets/app.min.css" />

    
    <meta charset="utf-8">
<meta name="description" content="After 15 years of working with CSS, media queries still don‚Äôt do enough for me to create responsive designs. To express my frustrations, I had written about half of a blog post under the title <em>Media Queries are a Hack</em> before I discovered that title had been taken. In <strong>2013</strong>. Clearly I‚Äôm not as original as I think I am." />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
<meta name="theme-color" content="#000" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta http-equiv="x-ua-compatible" content="IE=Edge" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/rss.xml">
<link rel="alternate" type="application/json" title="JSON Feed 1.0" href="/feed.json">
<link rel="apple-touch-icon" href="/assets/images/drew-monogram-black.png" />
<link rel="icon" type="image/png" href="/assets/images/drew-monogram-black.png" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@_drewpowers" />
<meta name="twitter:creator" content="@_drewpowers" />
<meta property="og:url" content="posts/media-queries-are-still-a-hack.html" />
<meta property="og:title" content="media queries are (still) a¬†hack" />
<meta property="og:description" content="After 15 years of working with CSS, media queries still don‚Äôt do enough for me to create responsive designs. To express my frustrations, I had written about half of a blog post under the title <em>Media Queries are a Hack</em> before I discovered that title had been taken. In <strong>2013</strong>. Clearly I‚Äôm not as original as I think I am." />
<meta property="og:image" content="https://blog.pow.rs/assets/images/drew-monogram-black.png" />

  </head>
  <body><script>if (localStorage.getItem('theme') === 'dark') document.body.classList.add('theme--dark')</script>

<header class="header">
  <a class="header-logo" href="/">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 175.3 226.8"><path d="M0 181.1h60.6v45.7H0zM66.2 159.1h21.6c27 0 48.3-7.1 64-21.2s23.5-33.7 23.5-58.8c0-24.8-7.8-44.2-23.5-58.2C136.1 7 114.8 0 87.8 0H0v159.1h66.2zm39.7-59.3c-5.4 4.8-12.4 7.1-21.1 7.1H60.3V52.2h24.6c8.6 0 15.7 2.4 21.1 7.1s8.1 11.4 8.1 20.1c-.1 8.8-2.8 15.6-8.2 20.4z"/></svg>
  </a>
  <p class="header-desc">the personal blog of Drew Powers</p>
  <nav class="header-nav">
    <ul class="header-nav-list">
      <li class="header-nav-item"><a class="header-link" href="/">all posts</a></li>
      <li class="header-nav-item"><a class="header-link header-link--design" href="/tag/design/">design</a></li>
      <li class="header-nav-item"><a class="header-link" href="/tag/dev/">dev</a></li>
      <li class="header-nav-item"><a class="header-link header-link--about" href="/about">about</a></li>
    </ul>
  </nav>
</header>
<div class="wrapper">
      <header class="post-header">
        <div class="post-animation"><style>
.windows {
  position: relative;
  margin: 4rem auto;
  width: 180px;
  height: 96px;
}

@media (min-width: 600px) {
  margin: 0 auto;
}

.window {
  animation: shift 3s cubic-bezier(0.5, 0, 0.5, 1) infinite;
  border: 2px solid var(--bg);
  position: absolute;
  width: 180px;
  height: 64px;
  top: 0;
  left: 50%;
  margin-left: -90px;
  background: rgba(255, 0, 255, 0.2);
}

.window:nth-child(5) { animation-duration: 3s; }
.window:nth-child(4) { animation-duration: 5s; }
.window:nth-child(3) { animation-duration: 7s; }
.window:nth-child(2) { animation-duration: 11s; }
.window:nth-child(1) { animation-duration: 13s; }

@keyframes shift {
  50% {
    transform: scaleX(0.2);
  }
}
</style>

<div class="windows">
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
</div>

<div class="art-meta">
  <div class="art-title">Sliding Shoji</div>
  <div class="art-description">Cicada Principle animation</div>
  <div class="art-year">2020</div>
</div>
</div>
        <h1 class="post-title mb1r">media queries are (still) a¬†hack</h1>
        <dl class="post-meta">
          <dt class="post-meta-key">published</dt>
          <dd class="post-meta-value"><time datetime="2020-01-18 12:00:00 +0000">18 Jan 2020</time></dd><dt class="post-meta-key">tagged</dt><dd class="post-meta-value"><a class="tag tag--dev" href="/tag/dev">dev</a></dd>
        </dl>
      </header>

      <main role="main" class="post-body mt4 post-body__media-queries-are-still-a-hack">
        <p>After 15 years of working with CSS, media queries still don‚Äôt do enough for me to create responsive
designs. To express my frustrations, I had written about half of a blog post under the title <em>Media
Queries are a Hack</em> before I discovered <a href="https://ianstormtaylor.com/media-queries-are-a-hack/">that title had been taken</a>. In <strong>2013</strong>. Clearly I‚Äôm
not as original as I think I am.</p>
<p>Ian Storm Taylor, the author of that post, summarizes the major failing of media queries:</p>
<blockquote>
<p>I want <strong>write-once, use-anywhere</strong>‚Äîthat‚Äôs what modular code is.</p>
<p>Media queries are not that. They‚Äôre <strong>write-everywhere</strong>. They‚Äôre relative to your screen, so
every time you write a media query for max-width or min-width, you‚Äôre connecting the appearance of
your module to the width of the entire canvas‚Äîexactly what you were trying to avoid.</p>
</blockquote>
<p>This has only become more true and more of a problem in our React-influenced,
<em>everything-is-modular</em> landscape of contemporary web design. And this lack of component-oriented
thinking lead Ian to pine for what we all do‚ÄîContainer Queries.</p>
<h2>container queries?</h2>
<p>If, for example, I have a user card component that I want to rearrange when there‚Äôs not enough room,
I can only do that based on the browser width, <strong>not the component width itself.</strong></p>
<figure>
  <img src="/assets/images/media-queries-are-still-a-hack/user-cards.svg" alt="A horizontally-laid out user card next to a vertical one" />
  <figcaption>What if I wanted to stack a card vertically not based on screen width, but based on whether or not the text and image will fit side-by-side? In 2020, I still can‚Äôt.</figcaption>
</figure>
<p>Container Queries seem to check off all the boxes:</p>
<ul>
<li>‚úÖ Modular and composable</li>
<li>‚úÖ Attack the root problem of responsive design: resizing based on <strong>content</strong></li>
<li>‚úÖ CSS-based</li>
</ul>
<p>But perfect as they may be, Container Queries are not happening anytime soon. In Zach Leatherman‚Äôs
recent article <a href="https://www.zachleat.com/web/origin-container-queries/"><em>The Origin Story of Container Queries</em></a>, after much research, he even admits
the grim reality of our beloved Container Queries:</p>
<blockquote>
<p>[Container Queries] become almost clich√© to mention it when talking about problems we‚Äôd like the
web platform to solve‚Ä¶ Everyone wants it, but it sure seems like no one is actively working on it.</p>
</blockquote>
<p>So what‚Äôs a person to do?</p>
<h2>css grid repeat(auto-fit, minmax())?</h2>
<p>If you‚Äôve used CSS Grid, you may be familiar with this wonderful snippet:</p>
<pre><code class="language-css">.grid {
  display: grid;
  grid-gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}
</code></pre>
<p>I was first introduced to this by <a href="https://labs.jensimmons.com/2017/03-009.html">Jen Simmons</a>‚Äô wonderful demo. With only 3 lines of CSS, we
have something that used to take hundreds:</p>
<ul>
<li>Responsive without any media queries</li>
<li>Gutters built-in üòç</li>
<li>And last, but most importantly, <strong>items that resize based on their width</strong> (kinda sounds like
Container Queries, don‚Äôt it?)</li>
</ul>
<p>But despite being incredibly-useful, CSS Grid‚Äôs <code>repeat(auto-fit, minmax())</code> has 2 major drawbacks:</p>
<ul>
<li>üö´ It can‚Äôt be used on the component level like a Container Query could, so components can‚Äôt
declare their own widths and breakpoints; their parents must.</li>
<li>üö´ It doesn‚Äôt allow for columns of different widths. Neither can you tell items to responsively
span multiple columns without media queries (and if we‚Äôre using media queries we‚Äôre all the way
back to where we started).</li>
</ul>
<h2>container queries.</h2>
<p>It‚Äôs really hard to make a better pitch than Container Queries as a solution to the problem of
modular responsive design, after <strong>7 years</strong> and hundreds of great minds have all shared their
collective vision of how this holy-grail-of-a-CSS-selector should work. There are no downsides to
Container Queries, other than the belabored point that <em>they don‚Äôt exist</em>.</p>
<p>So in parting, as I alluded to earlier, I will leave you, dear reader, with nary an original
thought, instead, rehashing my favorite line from Phillip Walton‚Äôs well-referenced <a href="https://philipwalton.com/articles/responsive-components-a-solution-to-the-container-queries-problem/"><em>Responsive
Components: A Solution to the Container Queries Problem</em></a>:</p>
<blockquote>
<p>While I think we‚Äôd all agree a pure CSS solution is the ultimate goal, I hope we as a community
are able prevent the perfect from becoming the enemy of the good.</p>
<p>In matters like this, I like to remind myself of this quote from the <a href="https://www.w3.org/TR/html-design-principles/">W3C‚Äôs HTML design
principles</a>: ‚ÄúIn case of conflict, consider users over authors over implementors over
specifiers over theoretical purity.‚Äù</p>
</blockquote>
<p>In other words, in 2020, <strong>the best solution we have to media queries‚Äô failings is JavaScript.</strong></p>
<p>But not JavaScript for the sake of JavaScript; JavaScript for the sake of users.</p>
<p>It‚Äôs been 7 years since Ian Storm Taylor published <em>Media Queries are a Hack</em>. And unfortunately, in
2020, they‚Äôre <em>still</em> a hack. And we‚Äôre still waiting on Container Queries.</p>
<p>I may not have any original ideas on this subject, but at least we‚Äôre all on the same page.</p>
<h2>more reading</h2>
<ul>
<li><a href="https://ianstormtaylor.com/media-queries-are-a-hack/">Media Queries are a Hack</a> (the real one)</li>
<li><a href="https://philipwalton.com/articles/responsive-components-a-solution-to-the-container-queries-problem/">Responsive Components: A Solution to the Container Queries Problem</a></li>
<li><a href="https://css-tricks.com/lets-not-forget-about-container-queries/">Let‚Äôs Not Forget About Container Queries</a></li>
<li><a href="https://www.zachleat.com/web/origin-container-queries/">The Origin Story of Container Queries</a></li>
</ul>

      </main>
    </div>

    <div class="wrapper">
  <footer class="footer">
    <a class="footer-link" href="/rss.xml">
      <svg class="icon mr1r" aria-label="rss" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M3 11a1 1 0 011-1 10 10 0 0110 10 1 1 0 11-2 0 8 8 0 00-8-8 1 1 0 01-1-1z"/><path d="M3 4a1 1 0 011-1 17 17 0 0117 17 1 1 0 11-2 0A15 15 0 004 5a1 1 0 01-1-1zM3 19a2 2 0 114 0 2 2 0 01-4 0z"/></g></svg>
      RSS
    </a>
    /
    <a class="footer-link" href="/feed.json">
      <svg class="icon mr1r" aria-label="rss" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M3 11a1 1 0 011-1 10 10 0 0110 10 1 1 0 11-2 0 8 8 0 00-8-8 1 1 0 01-1-1z"/><path d="M3 4a1 1 0 011-1 17 17 0 0117 17 1 1 0 11-2 0A15 15 0 004 5a1 1 0 01-1-1zM3 19a2 2 0 114 0 2 2 0 01-4 0z"/></g></svg>
      JSON
    </a>
    /
    <a class="footer-link" href="https://github.com/drwpow/blog">
      <svg class="icon mr1r" aria-label="github" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M16 23c-.6 0-1-.4-1-1v-3.9c0-.4 0-.7-.1-1.1-.1-.3-.3-.6-.5-.8-.3-.3-.4-.7-.2-1 .2-.3.5-.6.8-.7 2.9-.3 5.6-1.3 5.6-6 0-1.1-.4-2.2-1.2-3.1-.3-.3-.3-.7-.2-1 .3-.8.3-1.6.1-2.4-.5.1-1.3.4-2.6 1.3-.2.2-.5.2-.8.1-2.1-.6-4.4-.6-6.5 0-.4.1-.7.1-1-.1-1.2-.8-2.1-1.1-2.6-1.2-.2.7-.2 1.6.1 2.3.1.4.1.8-.2 1-.8.9-1.2 2-1.2 3.2 0 4.7 2.7 5.7 5.6 6 .4 0 .7.3.8.7.1.4 0 .8-.2 1-.2.2-.4.5-.5.8-.2.3-.2.7-.2 1V22c0 .6-.4 1-1 1s-1-.4-1-1v-1.7c-3 .5-4.3-1.2-5.2-2.3-.4-.5-.7-.9-1.1-1-.5-.1-.9-.7-.7-1.2.1-.5.7-.9 1.2-.7 1 .3 1.6 1 2.2 1.7.8 1.1 1.5 1.9 3.6 1.5v-.1c0-.5 0-1.2.3-1.7v-.1c-2.8-.6-5.8-2.4-5.8-7.7 0-1.5.5-2.9 1.4-4-.4-1.4-.3-2.8.3-4.1.1-.3.3-.5.6-.6.4 0 1.7-.2 4.4 1.4 2.2-.5 4.5-.5 6.6 0 2.6-1.7 4-1.5 4.4-1.4.3.1.5.3.6.6.5 1.3.6 2.6.3 3.9.9 1.1 1.4 2.5 1.4 4 0 5.7-3.4 7.2-5.8 7.8v.1c.3.6.3 1.2.3 1.8V22c0 .6-.4 1-1 1z"/></g><defs><clipPath id="clip0"><path d="M0 0h24v24H0V0z"/></clipPath></defs></svg>
      GitHub
    </a>
    <br />
    this website is encrypted and 100% analytics-free.<br />
    if you‚Äôd like to support this blog, tweet or share&nbsp;a&nbsp;link!

    <div class="footer-theme">
      <div class="toggle">
        <input class="toggle-input" id="theme-switcher" type="checkbox" value="dark-mode" />
        <label class="toggle-label" for="theme-switcher">dark theme</label>
      </div>
    </div>

    <script>
      const toggle = document.getElementById('theme-switcher');
      if (localStorage.getItem('theme') === 'dark') toggle.checked = true;
      function darkTheme(dark) {
        localStorage.setItem('theme', dark ? 'dark' : 'light');
        document.body.classList.add('theme--' + (dark ? 'dark' : 'light'));
        document.body.classList.add('theme-transition');
        setTimeout(function() { document.body.classList.remove('theme-transition') }, 500);
      }
      toggle.addEventListener('change', function(evt) {
        document.body.classList.remove('theme--dark');
        document.body.classList.remove('theme--light');
        darkTheme(evt.target.checked === true);
      });
    </script>
  </footer>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </body>
</html>
